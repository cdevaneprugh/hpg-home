<?xml version="1.0"?>
<config_batch version="2.1">

  <batch_system MACH="hipergator" type="slurm">
    
    <!--Job submit command-->
    <batch_submit>sbatch</batch_submit>
   
    <depend_separator>,</depend_separator>

    <!--Mail types accepted-->
    <batch_mail_type>NONE, BEGIN, END, FAIL, ALL</batch_mail_type>

    <!--Arguments to pass when submitting a job, queue, wallclock time are typical fields -->
    <submit_args>

      <!--Max job run time-->
      <arg flag="--time" name="$JOB_WALLCLOCK_TIME"/>
 
      <!--Determined by quality of service (queue) selected-->   
      <arg flag="-q" name="$JOB_QUEUE"/>
     
      <!--Exports all env vars from login node to compute node-->
      <arg flag="--export=ALL"/>

    </submit_args>

    <!--slurm script directives section, be careful that these do not conflict with submit_args above -->
    <directives>

      <!--Only run on hpg-default nodes for now-->
      <directive>--partition=hpg-default</directive>
      
      <!--User defined mail settings-->
      <directive>--mail-type=END,FAIL</directive>
      <directive>--mail-user=cdevaneprugh@ufl.edu</directive>

    </directives>

    <!--These correspond to the QOS you want to use for the job-->
    <queues>
      <!--jobmin/max: The min/max task count to use with this queue. This is used to select queues that only use a fraction of a node. This cannot be used in conjuction with nodemin/max.-->
      <queue jobmin="1" jobmax="20" default="true">gerber</queue><!--Default QOS-->
      <queue jobmin="1" jobmax="128">gerber-b</queue><!--Burst QOS-->
    </queues>

  </batch_system>

</config_batch>
